#!/bin/bash

binary_list_1=(001010010100000 001010010100001 001010010100010 001010010100011 001010010100100 001010010100101 001010010100110 001010010100111 001010010101000 001010010101001 001010010101010 001010010101011 001010010101100 001010010101101 001010010101110 001010010101111 001010010110000 001010010110001 001010010110010 001010010110011 001010010110100 001010010110101 001010010110110 001010010110111 001010010111000 001010010111001 001010010111010 001010010111011 001010010111100 001010010111101 001010010111110 001010010111111 001010011000000 001010011000001 001010011000010 001010011000011)

binary_list_2=(001010011000100 001010011000101 001010011000110 001010011000111 001010011001000 001010011001001 001010011001010 001010011001011 001010011001100 001010011001101 001010011001110 001010011001111 001010011010000 001010011010001 001010011010010 001010011010011 001010011010100 001010011010101 001010011010110 001010011010111 001010011011000 001010011011001 001010011011010 001010011011011 001010011011100 001010011011101 001010011011110 001010011011111 001010011100000 001010011100001 001010011100010 001010011100011 001010011100100 001010011100101 001010011100110 001010011100111)

binary_list_3=(001010011101000 001010011101001 001010011101010 001010011101011 001010011101100 001010011101101 001010011101110 001010011101111)

binary_list_4=(001010011110000 001010011110001 001010011110010 001010011110011 001010011110100 001010011110101 001010011110110 001010011110111 001010011111000 001010011111001 001010011111010 001010011111011 001010011111100 001010011111101 001010011111110 001010011111111 001010100000000 001010100000001 001010100000010 001010100000011 001010100000100 001010100000101 001010100000110 001010100000111 001010100001000 001010100001001 001010100001010 001010100001011 001010100001100 001010100001101 001010100001110 001010100001111 001010100010000 001010100010001 001010100010010 001010100010011 001010100010100 001010100010101 001010100010110 001010100010111 001010100011000 001010100011001 001010100011010 001010100011011 001010100011100 001010100011101 001010100011110 001010100011111)


imsi=0

#id=10

for id in {1..20};
do

#  touch docker-compose-ue-$id.yaml
#   
#  sed \
#  -e s/@ID@/$id/g \
#  -e s/@AMF_IP@/10.0.1.132/g \
#  -e s/@CUCP_IP@/10.0.1.$x\0/g \
#  -e s/@CUUP_IP@/10.0.1.$x\1/g \
#  -e s/@DU_IP@/10.0.1.$x\2/g \
#  -e s/@SLOT@/$x/g \
#  docker-compose-scale-ue.yaml > docker-compose-ue-$id.yaml
#  
#  echo 'docker-compose UEs with id:'$id' is creted'
  
  for ue_num in 5 6; do 
    touch conf/ue-$id-$ue_num.conf  

    sed -e s/@IMSI@/${binary_list_4[$imsi]}/g conf/ue.conf > conf/ue-$id-$ue_num.conf

    echo "UE conf ue-$id-$ue_num.conf is creted, IMSI: ${binary_list_4[$imsi]}"
    (( imsi++ ))
  done

  # (( id++ ))

done





